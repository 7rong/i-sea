{"version":3,"file":"js/43.cc41c8ae.js","mappings":"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","sources":["webpack://i-sea/./src/methods/favorite.js","webpack://i-sea/./src/views/frontend/UserProductDetail.vue","webpack://i-sea/./src/views/frontend/UserProductDetail.vue?6a02"],"sourcesContent":["export default {\n  setFavorite(fav) {\n    const favoriteStr = JSON.stringify(fav);\n    localStorage.setItem('favoriteList', favoriteStr);\n  },\n  getFavorite() {\n    return JSON.parse(localStorage.getItem('favoriteList'));\n  },\n};\n","<template>\n  <LoadingComp :active=\"isLoading\"/>\n  <p v-if=\"productCatch\" style=\"line-height: 50vh;\" class=\"text-center text-muted fw-bold\">\n    {{ productCatchMsg }}，請稍後重試</p>\n  <div v-else>\n    <img :src=\"product.imgUrl\" class=\"d-block w-100\" alt=\"主圖\"\n    v-if=\"!product.images\" style=\"height: 500px; object-fit: cover;\">\n    <!-- 輪播 -->\n    <div id=\"product-img\" class=\"carousel slide\" data-bs-ride=\"carousel\" v-else>\n      <div class=\"carousel-inner\">\n        <div class=\"carousel-item active\" data-bs-interval=\"3000\">\n          <img :src=\"product.imgUrl\" class=\"d-block w-100\" alt=\"主圖\"\n          style=\"object-fit: cover; height: 500px;\">\n        </div>\n        <div class=\"carousel-item\" data-bs-interval=\"3000\"\n        v-for=\"img in product.images\" :key=\"img\">\n          <img :src=\"img\" class=\"d-block w-100\" alt=\"圖片\"\n          style=\"object-fit: cover; height: 500px;\">\n        </div>\n      </div>\n      <button class=\"carousel-control-prev\" type=\"button\"\n      data-bs-target=\"#product-img\" data-bs-slide=\"prev\">\n        <span class=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\n        <span class=\"visually-hidden\">Previous</span>\n      </button>\n      <button class=\"carousel-control-next\" type=\"button\"\n      data-bs-target=\"#product-img\" data-bs-slide=\"next\">\n        <span class=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\n        <span class=\"visually-hidden\">Next</span>\n      </button>\n    </div>\n    <div class=\"container-fluid pb-3 pt-5 cus-bg-patterns\">\n      <div class=\"row justify-content-center\">\n        <article class=\"col-md-7 text-secondary\">\n          <div class=\"d-flex justify-content-between\">\n            <h2 class=\"mb-1\">{{ product.title }}</h2>\n            <button type=\"button\"\n              class=\"btn btn-outline-primary rounded-circle fs-4\n              fav-btn\"\n              :class=\"{ active: favoriteIdList.includes(product.id) }\"\n              @click.prevent.stop=\"toggleFavorite(product)\">\n              <i class=\"bi bi-suit-heart\" />\n            </button>\n          </div>\n          <small class=\"text-muted\">\n            <i class=\"bi bi-geo-alt-fill\"></i>\n            {{ product.location }}</small>\n          <div class=\"pb-5 mt-3\">{{ product.description }}</div>\n          <div style=\"white-space: pre-line\" class=\"pb-5\">\n            {{ product.content }}</div>\n          <p class=\"border-top border-secondary pt-3 text-primary fw-bold mb-1\">取消政策</p>\n          <ul class=\"text-primary list-unstyled\">\n            <li>＊ 所選日期 60 天（含）之前取消，收取手續費 0%</li>\n            <li>＊ 所選日期 30-60 天之間取消，收取手續費 50%</li>\n            <li>＊ 所選日期 0-30 天之間取消，收取手續費 100%</li>\n          </ul>\n        </article>\n        <div class=\"col-md-3 position-relative\">\n          <div class=\"card text-center sticky-md-top mb-3 aside-pos\">\n            <div class=\"card-body\">\n              <h3 class=\"card-text h6 mb-0\"\n              v-if=\"product.price === product.origin_price\">\n                TWD <span class=\"text-primary h5\">\n                {{ $filters.currency(product.origin_price) }}\n                </span> 元\n              </h3>\n              <del class=\"fs-6 text-muted ms-2\"\n              v-if=\"product.price !== product.origin_price\">\n                原價 {{ $filters.currency(product.origin_price) }} 元\n              </del>\n              <h3 class=\"card-text h6 mb-0\" v-if=\"product.price !== product.origin_price\">\n                TWD<span class=\"text-danger h4\">{{ $filters.currency(product.price) }}</span>\n                元\n              </h3>\n              <hr>\n              <div class=\"row g-0\">\n                <div class=\"col-12\" v-for=\"date in product.date\" :key=\"date\">\n                  <button type=\"button\" class=\"btn btn-outline-secondary h-100\n                  w-100 rounded-0 border-0\"\n                  @click=\"dateChosen = date\"\n                  :class=\"{ active: dateChosen === date }\">\n                    {{ date }}\n                  </button>\n                </div>\n                <div class=\"col-12 mt-0 mb-2\">\n                  <label for=\"product_qty\" class=\"form-label w-100\"></label>\n                  <div class=\"input-group my-auto\">\n                    <input type=\"number\" class=\"form-control\" min=\"1\"\n                    aria-describedby=\"number\" id=\"product_qty\"\n                    v-model=\"product.qty\">\n                    <span class=\"input-group-text\" id=\"number\">/ {{ product.unit }}</span>\n                  </div>\n                </div>\n                <div class=\"col-12\">\n                  <button type=\"button\" class=\"btn btn-outline-danger w-100 link-hover-white\"\n                  @click.prevent=\"addCart(product.id, dateChosen, product.qty)\"\n                  :disabled=\"addCartId === product.id\"\n                  v-if=\"addCartId !== product.id &&\n                  status.loadingItemId !== product.id\">\n                    <span class=\"pe-2\">加入購物車</span>\n                    <i class=\"bi bi-cart\"/>\n                  </button>\n                  <button type=\"button\" class=\"btn btn-outline-light w-100\"\n                  v-else-if=\"status.loadingItemId === product.id\">\n                    <div class=\"spinner-border spinner-border-sm text-white\" role=\"status\">\n                      <span class=\"visually-hidden\">Loading...</span>\n                    </div>\n                  </button>\n                  <button type=\"button\" class=\"btn btn-outline-secondary w-100\"\n                  @click.prevent=\"goCart\"\n                    v-else>\n                    <router-link to=\"/cart/products\"\n                    class=\"link-primary link-hover-white text-decoration-none\">\n                      <span class=\"pe-4\">前往購物車</span>\n                      <i class=\"bi bi-cart-check \"/>\n                    </router-link>\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"cus-bg-lighter\" v-if=\"!productsCatch\">\n      <div class=\"container py-3\">\n        <h3 class=\"text-primary h5 mb-3 ms-1\">你可能喜歡</h3>\n        <div class=\"row row-cols-md-3 row-cols-1 gy-3\">\n          <div class=\"col\"\n          v-for=\"item in similarProducts\" :key=\"item.id\">\n            <div class=\"card h-100\">\n              <div :style=\"{'background-image': `url(${item.imgUrl})`}\"\n              class=\"bg-style rounded-top\" style=\"height: 150px;\"></div>\n              <div class=\"card-body d-flex flex-column justify-content-between\">\n                <div class=\"mb-3\">\n                  <h5 class=\"card-title text-primary mb-1\">{{ item.title }}</h5>\n                  <small class=\"text-muted\">\n                  <i class=\"bi bi-geo-alt-fill\"></i>\n                    {{ item.location }}</small>\n                  <p class=\"card-text text-secondary mt-2\">{{ item.description }}</p>\n                </div>\n                <router-link :to=\"`/product/${item.id}`\" class=\"btn btn-outline-primary w-100\"\n                @click=\"getDetail(item.id)\">\n                  詳細行程\n                </router-link>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport favorite from '@/methods/favorite';\n\nexport default {\n  data() {\n    return {\n      isLoading: false,\n      id: '',\n      dateChosen: '',\n      product: {},\n      products: [],\n      addCartId: '',\n      status: {\n        loadingItemId: '',\n      },\n      favoriteIdList: favorite.getFavorite() || [],\n      productCatch: false,\n      productCatchMsg: '',\n      productsCatch: false,\n    };\n  },\n  inject: [\n    'pushMsgState',\n    'emitter',\n  ],\n  methods: {\n    getProduct() {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/product/${this.id}`;\n      this.isLoading = true;\n      this.$http.get(api)\n        .then((res) => {\n          this.isLoading = false;\n          if (res.data.success) {\n            this.product = res.data.product;\n            this.product.qty = 1;\n          }\n        })\n        .catch((err) => {\n          this.isLoading = false;\n          this.productCatch = true;\n          this.productCatchMsg = err.response.data.message;\n        });\n    },\n    addCart(id, date, qty = 1) {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      const cart = {\n        product_id: id,\n        qty,\n        dateChosen: date,\n      };\n      if (date) {\n        this.status.loadingItemId = id;\n        this.$http.post(api, { data: cart })\n          .then((res) => {\n            this.status.loadingItemId = '';\n            this.addCartId = id;\n            this.emitter.emit('update-cart', id);\n            const data = res;\n            data.content = `將「${this.product.title}」加入購物車`;\n            this.pushMsgState(data, '加入');\n          })\n          .catch((err) => {\n            const data = {\n              data: {},\n            };\n            data.data.success = err.response.data.success;\n            data.data.message = '系統錯誤，請稍後再試';\n            this.pushMsgState(data, '加入');\n          });\n      } else {\n        this.pushMsgState({\n          data: { success: false, message: ['請選擇日期'] },\n        }, '加入購物車');\n      }\n    },\n    getProducts() {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`;\n      this.$http.get(api)\n        .then((res) => {\n          if (res.data.success) {\n            this.products = res.data.products;\n          }\n        })\n        .catch((err) => {\n          this.productsCatch = !err.response.data.success;\n        });\n    },\n    getDetail(id) {\n      this.dateChosen = '';\n      this.id = id;\n      this.getProduct();\n    },\n    toggleFavorite(item) {\n      if (this.favoriteIdList.includes(item.id)) {\n        this.favoriteIdList.splice(this.favoriteIdList.indexOf(item.id), 1);\n        this.pushMsgState({\n          data: { success: true },\n          content: `將「${this.product.title}」移除我的最愛`,\n        }, '移除');\n      } else {\n        this.favoriteIdList.push(item.id);\n        this.pushMsgState({\n          data: { success: true },\n          content: `將「${this.product.title}」加入我的最愛`,\n        }, '加入');\n      }\n      favorite.setFavorite(this.favoriteIdList);\n      this.emitter.emit('update-favorite');\n    },\n  },\n  computed: {\n    similarProducts() {\n      let Arr = this.products.filter(\n        (item) => item.category.match(this.product.category) && item.id !== this.id,\n      );\n      const newArr = [];\n      if (Arr > 3) {\n        for (let i = 0; i < 3; i += 1) {\n          const index = Math.floor(Math.random() * Arr.length);\n          const item = Arr[index];\n          Arr.splice(index, 1);\n          newArr.push(item);\n        }\n        Arr = newArr;\n      }\n      return Arr;\n    },\n  },\n  created() {\n    this.id = this.$route.params.productId;\n    this.getProduct();\n    this.getProducts();\n    this.status.loadingItemId = '';\n  },\n};\n</script>\n","import { render } from \"./UserProductDetail.vue?vue&type=template&id=474012c6\"\nimport script from \"./UserProductDetail.vue?vue&type=script&lang=js\"\nexport * from \"./UserProductDetail.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/7rong/Documents/GitHub/i-sea/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["setFavorite","fav","favoriteStr","JSON","stringify","localStorage","setItem","getFavorite","parse","getItem","style","class","id","_createElementVNode","_hoisted_16","for","_hoisted_41","_hoisted_42","type","role","_hoisted_45","_createVNode","_component_LoadingComp","active","$data","isLoading","productCatch","_createElementBlock","_hoisted_1","_toDisplayString","productCatchMsg","_hoisted_2","product","images","_hoisted_4","_hoisted_5","_hoisted_6","src","imgUrl","alt","_Fragment","_renderList","img","key","_hoisted_9","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","title","_normalizeClass","favoriteIdList","includes","onClick","_cache","_withModifiers","$event","$options","toggleFavorite","_hoisted_18","_hoisted_19","location","_hoisted_20","description","_hoisted_21","content","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","price","origin_price","_hoisted_27","_hoisted_28","_ctx","$filters","currency","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","date","dateChosen","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","min","qty","_hoisted_38","unit","_hoisted_39","addCartId","status","loadingItemId","addCart","disabled","_hoisted_44","_hoisted_46","args","goCart","_component_router_link","to","_hoisted_47","_hoisted_48","productsCatch","_hoisted_49","_hoisted_50","_hoisted_51","_hoisted_52","similarProducts","item","_hoisted_53","_normalizeStyle","_hoisted_54","_hoisted_55","_hoisted_56","_hoisted_57","_hoisted_58","_hoisted_59","getDetail","data","products","favorite","inject","methods","getProduct","api","this","$http","get","then","res","success","catch","err","response","message","cart","product_id","post","emitter","emit","pushMsgState","getProducts","splice","indexOf","push","computed","Arr","filter","category","match","newArr","i","index","Math","floor","random","length","created","$route","params","productId","__exports__","render"],"sourceRoot":""}